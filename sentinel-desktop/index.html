<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/src/styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SENTINEL Desktop</title>
    <script type="module" src="/src/main.ts" defer></script>
  </head>

  <body>
    <div class="app-layout">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-header">
          <div class="logo">
            <span class="logo-icon">üõ°Ô∏è</span>
            <span class="logo-text">SENTINEL</span>
          </div>
        </div>

        <nav class="sidebar-nav">
          <a href="#" class="nav-item active" data-section="home">
            <span class="nav-icon">üè†</span>
            <span class="nav-text" data-i18n="nav.home">–ì–ª–∞–≤–Ω–∞—è</span>
          </a>
          <a href="#" class="nav-item" data-section="protection">
            <span class="nav-icon">üîí</span>
            <span class="nav-text" data-i18n="nav.protection">–ó–∞—â–∏—Ç–∞</span>
          </a>
          <a href="#" class="nav-item" data-section="logs">
            <span class="nav-icon">üìã</span>
            <span class="nav-text" data-i18n="nav.logs">–õ–æ–≥–∏</span>
          </a>
          <a href="#" class="nav-item" data-section="stats">
            <span class="nav-icon">üìä</span>
            <span class="nav-text" data-i18n="nav.stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
          </a>
          <a href="#" class="nav-item" data-section="settings">
            <span class="nav-icon">‚öôÔ∏è</span>
            <span class="nav-text" data-i18n="nav.settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
          </a>
        </nav>

        <div class="sidebar-footer">
          <select
            id="language-selector"
            class="language-select"
            title="Language"
          >
            <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
            <option value="en">üá¨üáß English</option>
          </select>
          <div class="version">v0.1.0</div>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Home Section -->
        <section class="section active" id="section-home">
          <div class="status-hero">
            <div class="status-shield" id="status-shield">
              <div class="shield-icon">üõ°Ô∏è</div>
              <div class="shield-pulse"></div>
            </div>
            <div class="status-info">
              <h1 id="status-title" data-i18n="home.protectionOff">–ó–∞—â–∏—Ç–∞ –≤—ã–∫–ª—é—á–µ–Ω–∞</h1>
              <ul class="status-list">
                <li class="status-item warning" id="protection-status">
                  <span class="dot"></span>
                  <span data-i18n="home.aiProtectionOff">AI –∑–∞—â–∏—Ç–∞ –≤—ã–∫–ª—é—á–µ–Ω–∞</span>
                </li>
                <li class="status-item success">
                  <span class="dot"></span>
                  <span data-i18n="home.brainAvailable">Brain API –¥–æ—Å—Ç—É–ø–µ–Ω</span>
                </li>
                <li class="status-item" id="connections-status">
                  <span class="dot"></span>
                  <span id="total-count">0</span> <span data-i18n="home.connectionsTracked">—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –æ—Ç—Å–ª–µ–∂–µ–Ω–æ</span>
                </li>
              </ul>
              <button id="toggle-btn" class="btn-action" data-i18n="home.enableProtection">
                –í–∫–ª—é—á–∏—Ç—å –∑–∞—â–∏—Ç—É
              </button>
            </div>
          </div>

          <!-- CDN Status Widget -->
          <div class="cdn-widget">
            <div class="cdn-status-row">
              <span class="cdn-icon">üõ°Ô∏è</span>
              <span class="cdn-label" data-i18n="settings.jailbreak">Jailbreak Database:</span>
              <span class="cdn-count"><span id="jailbreak-home-count">7</span> <span data-i18n="settings.cdnPatterns">patterns</span></span>
              <button class="btn-sync-mini" id="btn-sync-cdn-home">üîÑ Sync</button>
            </div>
            <div class="cdn-sync-message" id="cdn-home-status"></div>
          </div>
        </section>

        <!-- Protection Section -->
        <section class="section" id="section-protection">
          <h1 class="section-title" data-i18n="protection.title">–ó–∞—â–∏—Ç–∞ AI —Ç—Ä–∞—Ñ–∏–∫–∞</h1>

          <div class="settings-grid">
            <div class="setting-card">
              <div class="setting-header">
                <span class="setting-icon">üéØ</span>
                <div class="setting-info">
                  <h3 data-i18n="protection.modeTitle">–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</h3>
                  <p data-i18n="protection.modeDesc">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å AI –∑–∞–ø—Ä–æ—Å—ã</p>
                </div>
              </div>
              <div class="mode-selector">
                <label class="mode-option">
                  <input type="radio" name="mode" value="monitor" checked />
                  <span class="mode-label" data-i18n="protection.monitor">–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</span>
                  <span class="mode-desc" data-i18n="protection.monitorDesc">–û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏</span>
                </label>
                <label class="mode-option">
                  <input type="radio" name="mode" value="block" />
                  <span class="mode-label" data-i18n="protection.block">–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞</span>
                  <span class="mode-desc" data-i18n="protection.blockDesc">–ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å AI —Ç—Ä–∞—Ñ–∏–∫</span>
                </label>
              </div>
            </div>


          </div>
        </section>

        <!-- Logs Section -->
        <section class="section" id="section-logs">
          <div class="logs-header">
            <h1 class="section-title" data-i18n="logs.title">–õ–æ–≥–∏ –∑–∞–ø—Ä–æ—Å–æ–≤</h1>
            <div class="logs-controls">
              <button class="btn-clear" id="clear-logs">üóëÔ∏è <span data-i18n="logs.clear">–û—á–∏—Å—Ç–∏—Ç—å</span></button>
              <span class="log-count"
                ><span data-i18n="logs.total">–í—Å–µ–≥–æ</span>: <span id="log-count">0</span></span
              >
            </div>

            <!-- Log Filters -->
            <div class="log-filters">
              <select id="log-level-filter" class="log-filter-select">
                <option value="" data-i18n="logs.allLevels">–í—Å–µ —É—Ä–æ–≤–Ω–∏</option>
                <option value="debug">üîß Debug</option>
                <option value="info">‚ÑπÔ∏è Info</option>
                <option value="warn">‚ö†Ô∏è Warn</option>
                <option value="error">‚ùå Error</option>
              </select>
              <select id="log-category-filter" class="log-filter-select">
                <option value="" data-i18n="logs.allCategories">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                <option value="system">üñ•Ô∏è System</option>
                <option value="network">üåê Network</option>
                <option value="proxy">üîí Proxy</option>
                <option value="security">üõ°Ô∏è Security</option>
                <option value="engine">‚öôÔ∏è Engine</option>
              </select>
            </div>
          </div>

          <div class="logs-container" id="logs-container">
            <div class="log-empty">
              <span class="log-empty-icon">üìã</span>
              <p data-i18n="logs.empty">–õ–æ–≥–∏ –ø—É—Å—Ç—ã. –í–∫–ª—é—á–∏—Ç–µ –∑–∞—â–∏—Ç—É –¥–ª—è –Ω–∞—á–∞–ª–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.</p>
            </div>
          </div>
        </section>

        <!-- Stats Section -->
        <section class="section" id="section-stats">
          <h1 class="section-title" data-i18n="stats.title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h1>

          <div class="stats-cards">
            <div class="stat-big-card">
              <span class="stat-big-value" id="stat-total">0</span>
              <span class="stat-big-label" data-i18n="stats.totalConnections">–í—Å–µ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π</span>
            </div>
            <div class="stat-big-card danger">
              <span class="stat-big-value" id="stat-blocked">0</span>
              <span class="stat-big-label" data-i18n="stats.blocked">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</span>
            </div>
            <div class="stat-big-card success">
              <span class="stat-big-value" id="stat-allowed">0</span>
              <span class="stat-big-label" data-i18n="stats.allowed">–†–∞–∑—Ä–µ—à–µ–Ω–æ</span>
            </div>
            <div class="stat-big-card">
              <span class="stat-big-value" id="stat-bytes">0 B</span>
              <span class="stat-big-label" data-i18n="stats.inspected">–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ</span>
            </div>
          </div>
        </section>

        <!-- Settings Section -->
        <section class="section" id="section-settings">
          <h1 class="section-title" data-i18n="nav.settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>

          <!-- Monitored Processes -->
          <div class="settings-card">
            <div class="card-header">
              <h3>üéØ <span data-i18n="settings.monitoredApps">–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</span></h3>
              <span class="badge" id="monitored-count">0</span>
            </div>

            <div class="monitored-table" id="monitored-processes">
              <div class="empty-state">
                <span class="empty-icon">üì≠</span>
                <p data-i18n="settings.addAppPlaceholder">–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞</p>
              </div>
            </div>
          </div>

          <!-- Add Process -->
          <div class="settings-card">
            <div class="card-header">
              <h3>‚ûï <span data-i18n="settings.addApp">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</span></h3>
              <button
                class="btn-icon"
                id="refresh-processes"
                data-i18n-title="settings.refreshList"
                title="–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫"
              >
                üîÑ
              </button>
            </div>

            <div class="process-search">
              <input
                type="text"
                id="process-search"
                data-i18n-placeholder="settings.searchPlaceholder"
                placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏..."
              />
            </div>

            <div class="process-table" id="process-list">
              <!-- Populated by JS -->
            </div>
          </div>

          <!-- Detection Engines -->
          <div class="settings-card">
            <div class="card-header">
              <h3>üõ°Ô∏è <span data-i18n="settings.engines">–î–≤–∏–∂–∫–∏ –∞–Ω–∞–ª–∏–∑–∞</span></h3>
            </div>

            <div class="engine-list">
              <div class="engine-row">
                <div class="engine-info">
                  <span class="engine-icon">üîë</span>
                  <div class="engine-details">
                    <div class="engine-name" data-i18n="settings.keywords">Keywords Detection</div>
                    <div class="engine-desc" data-i18n="settings.keywordsDesc">
                      –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (jailbreak, roleplay,
                      extraction)
                    </div>
                  </div>
                </div>
                <label class="toggle">
                  <input type="checkbox" id="engine-keywords" checked />
                  <span class="slider"></span>
                </label>
              </div>

              <div class="engine-row">
                <div class="engine-info">
                  <span class="engine-icon">üîê</span>
                  <div class="engine-details">
                    <div class="engine-name" data-i18n="settings.pii">PII & Secrets Detection</div>
                    <div class="engine-desc" data-i18n="settings.piiDesc">
                      API –∫–ª—é—á–∏, –ø–∞—Ä–æ–ª–∏, –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                    </div>
                  </div>
                </div>
                <label class="toggle">
                  <input type="checkbox" id="engine-pii" checked />
                  <span class="slider"></span>
                </label>
              </div>

              <div class="engine-row">
                <div class="engine-info">
                  <span class="engine-icon">üß†</span>
                  <div class="engine-details">
                    <div class="engine-name" data-i18n="settings.jailbreak">Jailbreak Database</div>
                    <div class="engine-desc">
                      <span id="jailbreak-pattern-count">7</span> core + 
                      <span id="jailbreak-cdn-count">0</span> <span data-i18n="settings.cdnPatterns">CDN patterns</span>
                    </div>
                  </div>
                </div>
                <label class="toggle">
                  <input type="checkbox" id="engine-jailbreak" checked />
                  <span class="slider"></span>
                </label>
              </div>

              <!-- CDN Sync Status -->
              <div class="engine-row cdn-sync-row">
                <div class="engine-info">
                  <span class="engine-icon">‚òÅÔ∏è</span>
                  <div class="engine-details">
                    <div class="engine-name">CDN Sync</div>
                    <div class="engine-desc" id="cdn-sync-status">
                      –ü—Ä–æ–≤–µ—Ä–∫–∞...
                    </div>
                  </div>
                </div>
                <button class="btn-sync" id="btn-sync-cdn">üîÑ Sync</button>
              </div>
            </div>
          </div>

          <!-- Deep Inspection -->
          <div class="settings-card">
            <div class="card-header">
              <h3>üîç <span data-i18n="settings.deepInspection">Deep Inspection (TLS)</span></h3>
            </div>

            <div class="deep-inspection-info">
              <p class="info-text" data-i18n="settings.deepInspectionInfo">
                Deep Inspection –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ AI
                API. –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ SENTINEL CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞.
              </p>

              <div class="ca-status" id="ca-status">
                <span class="status-icon">‚è≥</span>
                <span class="status-text">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
              </div>

              <div class="ca-actions">
                <button class="btn-primary" id="init-ca">
                  üîê <span data-i18n="settings.initCa">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å CA</span>
                </button>
                <button class="btn-secondary" id="open-ca-folder">
                  üìÅ <span data-i18n="settings.openCaFolder">–û—Ç–∫—Ä—ã—Ç—å –ø–∞–ø–∫—É —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º</span>
                </button>
              </div>

              <!-- Enable Deep Inspection Toggle -->
              <div
                class="engine-row"
                id="deep-inspection-toggle"
                style="display: none"
              >
                <div class="engine-info">
                  <span class="engine-icon">üîì</span>
                  <div class="engine-details">
                    <div class="engine-name" data-i18n="settings.enableDeepInspection">–í–∫–ª—é—á–∏—Ç—å Deep Inspection</div>
                    <div class="engine-desc" data-i18n="settings.interceptHttps">
                      –ü–µ—Ä–µ—Ö–≤–∞—Ç –∏ –∞–Ω–∞–ª–∏–∑ HTTPS —Ç—Ä–∞—Ñ–∏–∫–∞
                    </div>
                  </div>
                </div>
                <label class="toggle">
                  <input type="checkbox" id="enable-deep-inspection" />
                  <span class="slider"></span>
                </label>
              </div>

              <div class="install-steps">
                <p><strong data-i18n="settings.installSteps">–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏:</strong></p>
                <ol>
                  <li data-i18n="settings.step1">–ù–∞–∂–º–∏—Ç–µ "–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å CA"</li>
                  <li data-i18n="settings.step2">–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º</li>
                  <li data-i18n="settings.step3">–î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ sentinel-ca.crt</li>
                  <li data-i18n="settings.step4">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ "–î–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–æ—Ä–Ω–µ–≤—ã–µ —Ü–µ–Ω—Ç—Ä—ã"</li>
                </ol>
              </div>
            </div>
          </div>

          <!-- System Proxy Settings -->
          <div class="settings-card">
            <div class="card-header">
              <h3>üåê <span data-i18n="settings.systemProxy">System Proxy</span></h3>
            </div>

            <div class="deep-inspection-info">
              <p class="info-text" data-i18n="settings.systemProxyInfo">
                System Proxy –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –≤–µ—Å—å HTTPS —Ç—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ SENTINEL –¥–ª—è
                –∞–Ω–∞–ª–∏–∑–∞. –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–º–∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ
                –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏.
              </p>

              <div class="ca-status" id="proxy-status">
                <span class="status-icon" id="proxy-status-icon">‚è≥</span>
                <span class="status-text" id="proxy-status-text" data-i18n="settings.checking"
                  >–ü—Ä–æ–≤–µ—Ä–∫–∞...</span
                >
              </div>

              <div class="engine-row">
                <div class="engine-info">
                  <span class="engine-icon">üîÑ</span>
                  <div class="engine-details">
                    <div class="engine-name" data-i18n="settings.enableSystemProxy">–í–∫–ª—é—á–∏—Ç—å System Proxy</div>
                    <div class="engine-desc" data-i18n="settings.redirectTraffic">
                      –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ 127.0.0.1:18443
                    </div>
                  </div>
                </div>
                <label class="toggle">
                  <input type="checkbox" id="enable-system-proxy" />
                  <span class="slider"></span>
                </label>
              </div>

              <p class="launch-hint">
                ‚ö†Ô∏è <span data-i18n="settings.proxyWarning">–ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ –ø—Ä–æ–∫—Å–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Windows –±—É–¥—É—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã</span>
              </p>
            </div>
          </div>
        </section>
      </main>
    </div>
  </body>
</html>
