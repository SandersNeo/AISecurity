# ============================================================================
# SENTINEL AI Security Platform — Environment Configuration
# ============================================================================
# Copy this file to .env and customize for your deployment
# 
# Required: Uncomment and set values marked with [REQUIRED]
# Optional: Values with defaults can be left as-is
# ============================================================================

# ============================================================================
# GENERAL
# ============================================================================

# Deployment environment: development | staging | production
SENTINEL_ENV=production

# Log level: DEBUG | INFO | WARNING | ERROR
LOG_LEVEL=INFO

# Timezone
TZ=UTC

# ============================================================================
# BRAIN SERVICE (Python gRPC Server)
# ============================================================================

# gRPC port for Brain service
BRAIN_GRPC_PORT=50051

# Maximum prompt size in bytes (100KB default)
MAX_PROMPT_LENGTH=102400

# Enabled engines (comma-separated, empty = all)
# Example: injection,pii,rag_guard,tda_enhanced,behavioral
ENGINES_ENABLED=

# Strange Math engines (advanced mathematical detection)
ENABLE_STRANGE_MATH=true

# Hive Intelligence (enterprise feature)
ENABLE_HIVE=false

# Post-Quantum Cryptography
ENABLE_PQC=false

# ============================================================================
# GATEWAY SERVICE (Go HTTP Server)
# ============================================================================

# Gateway HTTP port
GATEWAY_HTTP_PORT=8080

# Gateway HTTPS port (set 0 to disable)
GATEWAY_HTTPS_PORT=8443

# [REQUIRED] API key for authentication
# Generate with: openssl rand -hex 32
GATEWAY_API_KEY=your-api-key-here

# Rate limiting (requests per minute per client)
RATE_LIMIT_RPM=100

# Proof-of-Work difficulty (0 = disabled)
POW_DIFFICULTY=0

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ============================================================================
# LLM PROVIDER PROXY
# ============================================================================

# [REQUIRED for proxy mode] OpenAI API key
OPENAI_API_KEY=

# [REQUIRED for proxy mode] Anthropic API key  
ANTHROPIC_API_KEY=

# [REQUIRED for proxy mode] Google AI API key
GOOGLE_AI_API_KEY=

# Default LLM provider: openai | anthropic | google
DEFAULT_LLM_PROVIDER=openai

# Default model
DEFAULT_LLM_MODEL=gpt-4o-mini

# ============================================================================
# REDIS (Caching & Rate Limiting)
# ============================================================================

# Redis connection
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Cache TTL in seconds
CACHE_TTL=3600

# ============================================================================
# POSTGRESQL (Optional: Audit Logs & Metrics)
# ============================================================================

# Database connection
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=sentinel
POSTGRES_PASSWORD=sentinel_secure_password_change_me
POSTGRES_DB=sentinel

# Connection pool
POSTGRES_POOL_SIZE=10
POSTGRES_MAX_OVERFLOW=20

# ============================================================================
# DASHBOARD (Web UI)
# ============================================================================

# Dashboard port
DASHBOARD_PORT=3000

# [REQUIRED] Dashboard admin credentials
DASHBOARD_ADMIN_USER=admin
DASHBOARD_ADMIN_PASSWORD=change_me_immediately

# Session secret (generate with: openssl rand -hex 32)
DASHBOARD_SESSION_SECRET=your-session-secret-here

# ============================================================================
# TLS/SSL CERTIFICATES
# ============================================================================

# Path to TLS certificate
TLS_CERT_PATH=./certs/server.crt

# Path to TLS private key
TLS_KEY_PATH=./certs/server.key

# Enable mTLS (mutual TLS)
ENABLE_MTLS=false

# Path to CA certificate for mTLS
TLS_CA_PATH=./certs/ca.crt

# ============================================================================
# OBSERVABILITY
# ============================================================================

# Enable OpenTelemetry tracing
ENABLE_OTEL=false

# OTLP endpoint for traces
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4317

# Prometheus metrics port
METRICS_PORT=9090

# Enable health check endpoints
ENABLE_HEALTH_CHECKS=true

# ============================================================================
# SECURITY HARDENING
# ============================================================================

# Force HTTPS redirect
FORCE_HTTPS=true

# Enable request signing verification
ENABLE_REQUEST_SIGNING=false

# Maximum request body size (bytes)
MAX_REQUEST_SIZE=10485760

# Session timeout (seconds)
SESSION_TIMEOUT=3600

# Maximum concurrent sessions per user
MAX_SESSIONS=10

# ============================================================================
# DEVELOPMENT OPTIONS (disable in production!)
# ============================================================================

# Allow insecure gRPC (no TLS) — NEVER in production
INSECURE_MODE_ALLOWED=false

# Enable debug endpoints
ENABLE_DEBUG=false

# Verbose logging (may expose sensitive data)
VERBOSE_LOGGING=false
